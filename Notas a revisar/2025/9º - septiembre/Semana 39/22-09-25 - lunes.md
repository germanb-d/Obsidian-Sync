---
journal: Calendario
Diario-Fecha: 2025-09-22
---

# Join

Salen las filas que cumplan con la condicion.

![[22-09-25 - lunes-1758576077501.webp]]

## Union

Une dos tablas con las mismas columnas y mismo tipo.

- `UNION` = Une todas las filas teniendo en cuenta que no haya filas completas repetidas
- `UNION ALL` = Une todas las filas aun si hay repetidos, aunque es mas eficiente.
No devuelven la listas ordenadas aunque lo parezca, en caso de querer que este ordenado se usa el `ORDER BY`
Otras operaciones pero que no son un estandar:
- `INSERT` Solo sandran las que concidian en el [[Campo]] puesto en el `SELECT`
- `MINUS`  Salen los que estan en la tabla superior y no en la de abajo.

# NOT IN ≠ NOT EXISTS

```SQL
SQL> select count(*) from clientes where ciu_id_ciudad not in (select ciu_id_ciudad from agencias);
COUNT(*)
0
```

Me devuelve un contador de clientes que viven en ciudades sin agencia

```SQL 
SQL> select count(*) from clientes c where not exists (select a.ciu_id_ciudad from agencias a where c.ciu_id_ciudad=a.ciu_id_ciudad);
COUNT(*)
0
```

Me devuelve un contador de clientes que viven en ciudades sin agencia

Aunque devuelve lo mismo no funcionan igual: en `(select a.ciu_id_ciudad from agencias a where c.ciu_id_ciudad=a.ciu_id_ciudad)` utiliza un dato de `clientes c` y va comparando en cada fila. Mientras que en `(select ciu_id_ciudad from agencias)` siempre devuelve lo mismo.

Al realizar el cambio:

```SQL 
SQL> update clientes set ciu_id_ciudad=null where id_cliente= 99;
1 filas actualizadas.
```

El codigo realizado con `NOT IN` te devolvera 0, porque aunque null puede no estar en la tabla `Agencias` igualmente no tomara el null como un valor valido porque no es informacion.

El codigo realizado con `NOT EXISTS` Marcara 1 en el COUNT, porque al realizar `c.ciu_id_ciudad=a.ciu_id_ciudad` donde `a.ciu_id_ciudad` es NULL determinara como una igualdad valida.

#Buscar SQLbolt

UPDATE:  
DELETE: Elimina filas

# Manejo De Tablas

## INSERT

Agrega filas completas

Ejemplos:

Insertar en la relación asistió que el empleado con código 50 a asistido a la edición del curso 30 que empezó el ’01/09/2008’.

```SQL 
INSERT INTO ASISTIO (COD_CURSO, FEC_INICIO, COD_EMPLEADO)
VALUES (30, ’01/09/2008’, 50)
```

Registrar que el empleado ‘zzz, yyy’ a asistido al curso ‘IBD’, a la edición que empezó el ’10/03/2008’.

```SQL 
INSERT INTO ASISTIO (COD_CURSO, FEC_INICIO, COD_EMPLEADO)
VALUES ((SELECT Cod_Curso FROM CURSO WHERE (Nombre = ‘IBD’)), ’10/03/2008’, (SELECT Cod_Empleado FROM EMPLEADO WHERE (APYN = ‘zzz, yyy’)));
```

Registrar que al curso con código 20 y edición que empezó el ’06/03/2008’ asistieron todos los empleados del departamento 30, excepto el empleado con código 10.

```SQL 
INSERT INTO ASISTIO (COD_CURSO, FEC_INICIO, COD_EMPLEADO)
SELECT 20, ’06/03/2008, Cod_Empleado
FROM EMPLEADO
WHERE (COD_DTO = 30) and (COD_EMPLEADO <> 10)
```

Puedo poner solo el SELECT porque este contiene las 3 columnas necesarias.

## UPDATE

Modifica uno o mas campos de una tabla

Modificar los siguientes datos del empleado con código 20: en fecha de nacimiento asignarle ’10/09/1970’, aumentarle en $100 el salario y que ahora va a trabajar en el departamento de ‘Recursos Humanos’.

```SQL 
UPDATE EMPLEADO
SET Fec_Nac = ’10/09/1970’,
Salario = Salario + 100,
COD_DTO = (SELECT COD_DTO FROM DEPARTAMENTO WHERE
(Nombre = ‘Recursos Humanos’)
WHERE (Cod_Empleado = 20)
```

Si yo no uso el `WHERE` este selecciona todas las filas de empleado.

## DELETE

Dar de baja toda la información de la edición del curso con código 50 que empezó el ’20/02/2008’.

```SQL 
DELETE FROM ASISTIO
WHERE (cod_curso = 50) and (fec_inicio = ’20/02/2008’)
 -- tantas filas como asistentes hubo a esa edición
```

```SQL 
DELETE FROM EDICION
WHERE (cod_curso = 50) and (fec_inicio = ’20/02/2008’)
--1 sola fila
```

![[Data Base Management System (DBMS)#DDL – Data Definition Language (Lenguaje De Definición De Datos)|DDL]]

![[22-09-25 - lunes-1758576077501.webp]]

![[22-09-25 - lunes-1758581588498.webp]]

3) SELECT EMPLEADo.*, (select bla bla bla)

```SQL 
SELECT COD_CURSO,NOMBRE
FROM CURSO WHERE 

```

```SQL
SQL> select count(*) from clientes where ciu_id_ciudad not in (select ciu_id_ciudad from agencias);
COUNT(*)
0
```
